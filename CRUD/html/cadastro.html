<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BioSys - Cadastro de Exames</title>
    
    <!-- Chamando o CSS -->
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/cadastro.css">
    
    <!-- Incluindo o arquivo de verificação de autenticação -->
    <script src="../javascript/cadastro.js" defer></script>
</head>
<body>
    <div class="cadastro-container">
        
        <div class="button"> 
            <img src="../image/voltar.png" id="backButton" class="backButton" onclick="backButton()" alt="Voltar" />
        </div>
        
        <h2>Cadastro de Exames</h2>
        <form id="cadastro-form" action="#" method="post" enctype="multipart/form-data">
            <!-- Seus campos de formulário aqui -->
            <div class="input-group">
                <label for="numero_exame"><b>Número do Exame:</b></label>
                <input type="text" id="numero_exame" name="numero_exame" required>
            </div>
            <!-- Campo de Paciente -->
            <div class="input-group">
                <label for="paciente"><b>Paciente:</b></label>
                <input type="text" id="paciente" name="paciente" required>
            </div>
            <!-- Campo de Idade -->
            <div class="input-group">
                <label for="idade"><b>Idade:</b></label>
                <input type="number" id="idade" name="idade" oninput="validateIdade()">
            </div>            
            <!-- Campo de Convênio -->
            <div class="input-group">
                <label for="convenio"><b>Convênio:</b></label>
                <input type="text" id="convenio" name="convenio">
            </div>
            <!-- Campo de Procedimento -->
            <div class="input-group">
                <label for="procedimento"><b>Procedimento:</b></label>
                <input type="text" id="procedimento" name="procedimento">
            </div>
            <!-- Campo de Data -->
            <div class="input-group">
                <label for="data"><b>Data:</b></label>
                <input type="date" id="data" name="data">
            </div>
            <!-- Campo de Hora de Início -->
            <div class="input-group">
                <label for="hora_inicio"><b>Hora de Início:</b></label>
                <input type="time" id="hora_inicio" name="hora_inicio">
            </div>
            <!-- Campo de Hora de Término -->
            <div class="input-group">
                <label for="hora_termino"><b>Hora de Término:</b></label>
                <input type="time" id="hora_termino" name="hora_termino">
            </div>
            <!-- Campo de Médico Solicitante -->
            <div class="input-group">
                <label for="medico_solicitante"><b>Médico Solicitante:</b></label>
                <input type="text" id="medico_solicitante" name="medico_solicitante" required>
            </div>
            <!-- Campo de Médico Executante -->
            <div class="input-group">
                <label for="medico_executante"><b>Médico Executante:</b></label>
                <input type="text" id="medico_executante" name="medico_executante">
            </div>
            <!-- Campo de Técnico Auxiliar -->
            <div class="input-group">
                <label for="tecnico_auxiliar"><b>Técnico Auxiliar:</b></label>
                <input type="text" id="tecnico_auxiliar" name="tecnico_auxiliar">
            </div>
            <!-- Botão e Campo de Captura de Foto -->
            <div class="input-group">
                <button type="button" id="start-camera" aria-label="Iniciar Câmera">QR Code</button>
                <div class="photo-grid" id="photo-grid"></div>
                <input type="hidden" id="photo-data" name="photo-data">
            </div>
            <!-- Botão de Cadastro -->
            <div class="button-container">
                <div class="button-group">
                    <button type="submit" id="cadastro-btn" class="cadastro-btn" onclick="cadastraExame()"><strong>Cadastrar</strong></button>
                </div>
            </div>
        </form>
        <div id="form-messages"></div>
    </div>

    <!-- Seção da Câmera (oculta inicialmente) -->
    <div id="camera-section">
        <button type="button" id="take-photo" aria-label="Tirar Foto" style="display:none;">Tirar Foto</button>
        <button type="button" id="close-camera" aria-label="Fechar Câmera" style="display:none;">Fechar Câmera</button>
        <div id="camera-container">
            <video id="video"></video>
            <div id="loading-message">Carregando câmera...</div>
        </div>
    </div>

    <!-- Chamando outros scripts de JavaScript -->
    <script src="../javascript/camera.js"></script>
    <script src="../javascript/loading.js"></script>
    <script src="../javascript/backButton.js" defer></script>
    <script src="../javascript/validate.js" defer></script>
</body>
</html>
